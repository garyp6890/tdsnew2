{% comment %}
  Social Grid Section
  Section: linktree-social-grid.liquid
  
  Online Store 2.0 compatible section with customizable settings
{% endcomment %}

<div class="linktree-section social-grid-section" data-section-id="{{ section.id }}" data-section="social-grid">
  <div class="linktree-container">
    <button class="section-header" onclick="toggleSection(\'social-grid\')">
      <span class="section-title">
        <svg class="section-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21.5 2H2.5A.5.5 0 0 0 2 2.5v19A.5.5 0 0 0 2.5 22h19a.5.5 0 0 0 .5-.5v-19A.5.5 0 0 0 21.5 2z"/>
          <path d="M16 8a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v8a4 4 0 0 0 4 4h4a4 4 0 0 0 4-4z"/>
          <line x1="12" y1="12" x2="12" y2="12"/>
        </svg>
        {{ section.settings.section_title }}
      </span>
      <svg class="section-toggle" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="6 9 12 15 18 9"></polyline>
      </svg>
    </button>
    
    <div class="section-content">
      <div class="social-links-grid">
        {% for block in section.blocks %}
          {% if block.settings.social_url != blank %}
            <a href="{{ block.settings.social_url }}" 
               class="social-btn {{ block.settings.social_platform | handleize }}"
               onclick="trackLinkClick(\'{{ block.settings.social_platform | escape }} - {{ block.settings.social_text | escape }}\', this.href, \'social_grid\')"
               target="_blank"
               rel="noopener">
              {% if block.settings.social_icon != blank %}
                <img src="{{ block.settings.social_icon | image_url: width: 40 }}" alt="{{ block.settings.social_platform | default: \'Icon\' }}" class="social-icon" loading="lazy">
              {% else %}
                <svg class="social-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  {% case block.settings.social_platform %}
                    {% when \'facebook\' %}
                      <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                    {% when \'instagram\' %}
                      <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
                      <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
                      <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>
                    {% when \'tiktok\' %}
                      <path d="M9 12h1.5a3.5 3.5 0 1 0 0-7H9v7zm5-7v14a3.5 3.5 0 1 0 0-7h-4V5h4z"/>
                    {% when \'youtube\' %}
                      <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.42a2.78 2.78 0 0 0-1.94 2C2 8.16 2 12 2 12s0 3.84.46 5.58a2.78 2.78 0 0 0 1.94 2c1.72.42 8.6.42 8.6.42s6.88 0 8.6-.42a2.78 2.78 0 0 0 1.94-2C22 15.84 22 12 22 12s0-3.84-.46-5.58z"/>
                      <polygon points="10 15 15 12 10 9 10 15"/>
                    {% when \'threads\' %}
                      <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07L9.54 2.46c-.92.92-1.38 2.13-1.38 3.34z"/>
                      <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71c.92-.92 1.38-2.13 1.38-3.34z"/>
                    {% when \'x\' %}
                      <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c11 3 21-1 21-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
                    {% when \'snapchat\' %}
                      <path d="M18 10c0-2.21-1.79-4-4-4s-4 1.79-4 4 1.79 4 4 4 4-1.79 4-4zm-4 2c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
                      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                    {% when \'google-reviews\' %}
                      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                      <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    {% else %}
                      <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07L9.54 2.46c-.92.92-1.38 2.13-1.38 3.34z"/>
                      <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71c.92-.92 1.38-2.13 1.38-3.34z"/>
                  {% endcase %}
                </svg>
              {% endif %}
              <span>{{ block.settings.social_text }}</span>
            </a>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</div>

<style>
  .social-grid-section .social-links-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
  }
  
  .social-grid-section .social-btn {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 0.75rem;
    padding: 0.75rem 1rem;
    color: var(--text-white);
    text-decoration: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    font-weight: 600;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    text-align: center;
  }
  
  .social-grid-section .social-btn:hover {
    background: var(--glass-bg-hover);
    border-color: var(--glass-border-hover);
    transform: translateY(-2px);
  }
  
  .social-grid-section .social-icon {
    width: 32px;
    height: 32px;
    color: var(--accent-blue);
  }
  
  .social-grid-section .social-icon img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
  
  /* Platform-specific colors for icons */
  .social-btn.facebook .social-icon { color: #1877F2; }
  .social-btn.instagram .social-icon { color: #E4405F; }
  .social-btn.tiktok .social-icon { color: #000000; }
  .social-btn.youtube .social-icon { color: #FF0000; }
  .social-btn.threads .social-icon { color: #000000; }
  .social-btn.x .social-icon { color: #000000; }
  .social-btn.snapchat .social-icon { color: #FFFC00; }
  .social-btn.google-reviews .social-icon { color: #4285F4; }

  /* Tablet and Desktop Adjustments */
  @media screen and (min-width: 768px) {
    .social-grid-section .social-links-grid {
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 1.5rem;
    }
    
    .social-grid-section .social-btn {
      font-size: 1rem;
      padding: 1rem;
    }
  }
</style>

{% schema %}
{
  "name": "Social Grid",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Connect With Me",
      "info": "Title displayed at the top of the section"
    }
  ],
  "blocks": [
    {
      "type": "social_link",
      "name": "Social Link",
      "settings": [
        {
          "type": "select",
          "id": "social_platform",
          "label": "Social Platform",
          "options": [
            {
              "value": "facebook",
              "label": "Facebook"
            },
            {
              "value": "instagram",
              "label": "Instagram"
            },
            {
              "value": "tiktok",
              "label": "TikTok"
            },
            {
              "value": "youtube",
              "label": "YouTube"
            },
            {
              "value": "threads",
              "label": "Threads"
            },
            {
              "value": "x",
              "label": "X (Twitter)"
            },
            {
              "value": "snapchat",
              "label": "Snapchat"
            },
            {
              "value": "google-reviews",
              "label": "Google Reviews"
            }
          ],
          "default": "instagram"
        },
        {
          "type": "text",
          "id": "social_text",
          "label": "Display Text",
          "default": "Instagram"
        },
        {
          "type": "url",
          "id": "social_url",
          "label": "Profile URL"
        },
        {
          "type": "image_picker",
          "id": "social_icon",
          "label": "Custom Icon (Overrides Default)",
          "info": "Upload a custom icon for this social platform (SVG or PNG recommended)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Social Grid",
      "blocks": [
        {
          "type": "social_link",
          "settings": {
            "social_platform": "instagram",
            "social_text": "Instagram",
            "social_url": "https://www.instagram.com/thatdtailguy/"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "social_text": "TikTok",
            "social_url": "https://www.tiktok.com/@thatdtailguy",
            "social_platform": "tiktok"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "social_text": "YouTube",
            "social_url": "https://www.youtube.com/c/thatdtailguy",
            "social_platform": "youtube"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "social_text": "Facebook",
            "social_url": "https://www.facebook.com/thatdtailguy",
            "social_platform": "facebook"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "social_text": "X (Twitter)",
            "social_url": "https://twitter.com/thatdtailguy",
            "social_platform": "x"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "social_text": "Google Reviews",
            "social_url": "https://g.page/r/CV13b2_X37BVEBM/review",
            "social_platform": "google-reviews"
          }
        }
      ]
    }
  ]
}
{% endschema %}

